<div id="hazardForm" style="display: none;">
    <div class="row g-3">
        <div class="col-md-6">
            <label for="hazardType" class="form-label">检查类型 <span class="text-danger">*</span></label>
            <select class="form-select" id="hazardType" required onchange="handleHazardTypeChange()">
                <option value="">请选择类型</option>
                <option value="chief">首长检查</option>
                <option value="daily">日常检查</option>
                <option value="comprehensive">综合检查</option>
                <option value="other">其他</option>
            </select>
        </div>
        <div class="col-md-6" id="planSelectDiv" style="display: none;">
            <label class="form-label">计划选择 <span id="planRequired" class="text-danger" style="display: none;">*</span></label>
            <div class="d-flex align-items-center gap-2">
                <button type="button" class="btn btn-outline-primary" onclick="showPlanModal()">
                    <i class="bi bi-list-check me-1"></i>选择计划
                </button>
                <span id="selectedPlanName" class="text-muted" style="display: none;"></span>
            </div>
            <div id="planHelpText" class="form-text" style="display: none;"></div>
        </div>
        <div class="col-md-4">
            <label for="hazardUnit" class="form-label">单位 <span class="text-danger">*</span></label>
            <div id="hazardUnitContainer"></div>
        </div>
        <div class="col-md-4">
            <label for="hazardCheckTime" class="form-label">检查时间 <span class="text-danger">*</span></label>
            <input type="date" class="form-control" id="hazardCheckTime" required>
        </div>
        <div class="col-md-4" id="checkLocationDiv" style="display: none;">
            <label for="hazardCheckLocation" class="form-label">检查处 <span id="checkLocationRequired" class="text-danger">*</span></label>
            <input type="text" class="form-control" id="hazardCheckLocation" required>
            <div id="checkLocationHelpText" class="form-text">综合检查需要填写检查处</div>
        </div>
        <div class="col-12">
            <label for="hazardProblemCategory" class="form-label">问题类别 <span class="text-danger">*</span></label>
            <div id="hazardProblemCategoryContainer"></div>
        </div>
        <div class="col-12">
            <label for="hazardProblem" class="form-label">具体问题 <span class="text-danger">*</span></label>
            <textarea class="form-control" id="hazardProblem" rows="3" required></textarea>
        </div>
        <div class="col-md-6">
            <div class="form-check">
                <input class="form-check-input" type="checkbox" id="hazardTypical" checked>
                <label class="form-check-label" for="hazardTypical">
                    是否典型问题
                </label>
            </div>
        </div>
        <div class="col-md-6">
            <label for="hazardAttachments" class="form-label">附件</label>
            <div class="input-group">
                <input type="file" class="form-control" id="hazardAttachments" multiple accept=".pdf,.doc,.docx,.xls,.xlsx,.jpg,.jpeg,.png,.gif" onchange="handleFileSelection('hazardAttachments')" style="display: none;">
                <input type="text" class="form-control" id="hazardAttachmentsDisplay" placeholder="选择文件..." readonly>
                <button class="btn btn-outline-secondary" type="button" onclick="document.getElementById('hazardAttachments').click()">
                    <i class="bi bi-folder2-open"></i> 浏览...
                </button>
            </div>
            <div class="form-text">支持多选，可上传PDF、Word、Excel、图片等格式文件</div>
            <div id="hazardAttachmentsList"></div>
        </div>
        <div class="col-12">
            <label for="hazardRemarks" class="form-label">备注</label>
            <textarea class="form-control" id="hazardRemarks" rows="2"></textarea>
        </div>
    </div>
</div>
