<!-- 法规上传区域 -->
<div id="uploadSection" class="content-section hidden">
    <div class="row mb-4">
        <div class="col-12">
            <div class="card shadow-sm">
                <div class="card-header">
                    <h2 class="card-title h5 mb-0">上传法律法规文件</h2>
                </div>
                <div class="card-body">
                    <form id="uploadForm" enctype="multipart/form-data">
                        <div class="row g-3">
                            <!-- 文件上传 -->
                            <div class="col-12">
                                <label for="uploadFile" class="form-label">选择文件 <span class="text-danger">*</span></label>
                                <input type="file" class="form-control" id="uploadFile" name="file" accept=".doc,.docx,.pdf" required>
                                <div class="form-text">支持的文件类型: Word文档(.doc, .docx), PDF文档(.pdf)，文件大小不超过50MB</div>
                            </div>
                            
                            <!-- 基本信息 -->
                            <div class="col-md-6">
                                <label for="fileName" class="form-label">文件名 <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="fileName" name="fileName" required>
                            </div>
                            
                            <div class="col-md-6">
                                <label class="form-label">密级与保密时间 <span class="text-danger">*</span></label>
                                <div class="row g-2 security-combined">
                                    <div class="col-8">
                                        <select class="form-select" id="securityLevel" name="securityLevel" required>
                                            <option value="">请选择密级</option>
                                            <!-- 密级选项将通过JavaScript动态生成 -->
                                        </select>
                                    </div>
                                    <div class="col-4">
                                        <div class="input-group">
                                            <input type="number" class="form-control" id="securityPeriod" name="securityPeriod" placeholder="年限" min="0" max="100">
                                            <span class="input-group-text">年</span>
                                            <button type="button" class="btn btn-outline-secondary" onclick="clearSecurityPeriod()" title="清除保密时间">
                                                <i class="bi bi-x-circle"></i>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-text">密级必选，保密时间可选，留空表示无保密期限</div>
                            </div>
                            
                            <div class="col-md-6">
                                <label for="issueUnit" class="form-label">签发单位 <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="issueUnit" name="issueUnit" required>
                            </div>
                            
                            <div class="col-md-6">
                                <label for="effectStatus" class="form-label">效力状态 <span class="text-danger">*</span></label>
                                <select class="form-select" id="effectStatus" name="effectStatus" required>
                                    <option value="">请选择效力状态</option>
                                    <!-- 效力状态选项将通过JavaScript动态生成 -->
                                </select>
                            </div>
                            
                            <div class="col-md-6">
                                <label for="effectiveStartDate" class="form-label">有效开始时间 <span class="text-danger">*</span></label>
                                <input type="date" class="form-control" id="effectiveStartDate" name="effectiveStartDate" required>
                                <div class="form-text">可直接输入或点击日历图标选择日期</div>
                            </div>
                            
                            <div class="col-md-6">
                                <label for="effectiveEndDate" class="form-label">有效终了时间 <span class="text-danger">*</span></label>
                                <input type="date" class="form-control" id="effectiveEndDate" name="effectiveEndDate" required>
                                <div class="form-text">可直接输入或点击日历图标选择日期</div>
                            </div>
                            
                            <div class="col-md-6">
                                <label for="publishDate" class="form-label">发布时间 <span class="text-danger">*</span></label>
                                <input type="date" class="form-control" id="publishDate" name="publishDate" required>
                                <div class="form-text">可直接输入或点击日历图标选择日期</div>
                            </div>
                            
                            <div class="col-md-6">
                                <label for="fileNumber" class="form-label">文件编号</label>
                                <input type="text" class="form-control" id="fileNumber" name="fileNumber">
                            </div>
                            
                            <div class="col-md-6">
                                <label for="tags" class="form-label">可选标签</label>
                                <div id="uploadTagsContainer">
                                    <!-- 上传表单标签组件将在这里生成 -->
                                </div>
                            </div>
                            
                            <div class="col-12">
                                <label for="revisionHistory" class="form-label">历史修订信息</label>
                                <div class="input-group">
                                    <input type="text" class="form-control" id="revisionHistory" name="revisionHistory" placeholder="请选择历史修订文件" readonly>
                                    <button class="btn btn-outline-secondary" type="button" onclick="openRevisionHistoryModal()">
                                        <i class="bi bi-search me-1"></i>选择文件
                                    </button>
                                    <button class="btn btn-outline-danger" type="button" onclick="clearRevisionHistory()">
                                        <i class="bi bi-x-circle"></i>
                                    </button>
                                </div>
                                <div class="form-text">点击"选择文件"按钮检索并选择历史修订文件</div>
                                
                                <!-- 选中文件的详细信息显示区域 -->
                                <div id="selectedRevisionFileInfo" class="mt-2 hidden">
                                    <div class="form-text text-info">
                                        <i class="bi bi-info-circle me-1"></i>
                                        <strong>选中文件信息：</strong>
                                        <span id="selectedFileName"></span> | 
                                        发布时间：<span id="selectedPublishDate"></span> | 
                                        有效时间：<span id="selectedEffectiveDate"></span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="col-12">
                                <label for="remarks" class="form-label">备注</label>
                                <textarea class="form-control" id="remarks" name="remarks" rows="3" placeholder="请输入备注信息"></textarea>
                            </div>
                            
                            <div class="col-12">
                                <button type="submit" class="btn btn-primary btn-lg" id="uploadBtn">
                                    <i class="bi bi-upload me-1" aria-hidden="true"></i>上传法规文件
                                </button>
                            </div>
                        </div>
                    </form>
                    
                    <!-- 上传进度 -->
                    <div id="uploadProgress" class="mt-3 hidden">
                        <div class="progress">
                            <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar"></div>
                        </div>
                        <small class="text-muted">正在上传文件...</small>
                    </div>
                    
                    <!-- 处理结果 -->
                    <div id="uploadResult" class="mt-3 hidden">
                        <div class="alert" role="alert">
                            <div id="resultContent"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
